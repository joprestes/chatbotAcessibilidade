<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ada - Chatbot de Acessibilidade Digital e WCAG">
    <title>Ada | Assistente de Acessibilidade</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ’œ</text></svg>">
</head>
<body>
    <a href="#user-input" class="skip-link">Pular para o chat</a>
    
    <div class="app-wrapper">
        <!-- Sidebar com Ada fixa -->
        <aside class="sidebar" role="complementary" aria-label="InformaÃ§Ãµes da Ada" data-testid="sidebar-ada">
            <div class="sidebar-content">
                <div class="ada-card" data-testid="ada-card">
                    <div class="avatar-container" data-testid="avatar-container">
                        <img src="/assets/avatar.webp" alt="IlustraÃ§Ã£o da Ada" class="avatar breathing" data-testid="avatar-ada">
                    </div>
                    <div class="ada-info" data-testid="ada-info">
                        <h2>Ada</h2>
                        <p class="ada-subtitle">Assistente de Acessibilidade</p>
                        <p class="ada-description">
                            Especialista em <strong>Acessibilidade Digital</strong>, WCAG e ARIA.
                        </p>
                    </div>
                    <div class="suggestion-chips" data-testid="suggestion-chips">
                        <button class="chip" onclick="fillInput('Como testar contraste de cores?')" aria-label="Perguntar sobre contraste de cores" data-testid="chip-contraste">
                            <span aria-hidden="true">ğŸ¨</span> Contraste
                        </button>
                        <button class="chip" onclick="fillInput('O que Ã© navegaÃ§Ã£o por teclado?')" aria-label="Perguntar sobre navegaÃ§Ã£o por teclado" data-testid="chip-teclado">
                            <span aria-hidden="true">âŒ¨ï¸</span> Teclado
                        </button>
                        <button class="chip" onclick="fillInput('Gere um checklist WCAG AA')" aria-label="Gerar checklist WCAG AA" data-testid="chip-checklist">
                            <span aria-hidden="true">âœ…</span> Checklist
                        </button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- ConteÃºdo Principal -->
        <div class="main-content-wrapper">
            <header role="banner" class="glass-header">
                <div class="header-content">
                    <div class="header-branding">
                        <h1>Chat de Acessibilidade</h1>
                    </div>
                    <div class="header-controls">
                        <button 
                            id="clear-chat-button" 
                            class="icon-button" 
                            data-testid="btn-limpar-chat"
                            aria-label="Limpar histÃ³rico do chat"
                            title="Limpar conversa"
                        >
                            <span aria-hidden="true">ğŸ—‘ï¸</span>
                        </button>
                        <button 
                            id="theme-toggle" 
                            class="icon-button" 
                            data-testid="btn-toggle-tema"
                            aria-label="Alternar para modo escuro"
                            title="Mudar tema"
                        >
                            <span aria-hidden="true" id="theme-icon">ğŸŒ™</span>
                        </button>
                    </div>
                </div>
            </header>

            <main role="main" id="main-content">
                <div id="chat-container" class="chat-container glass-chat" role="log" aria-live="polite" aria-label="HistÃ³rico de mensagens">
                </div>
            </main>

            <footer class="input-area-wrapper">
                <form id="chat-form" class="chat-form" data-testid="form-chat">
                    <div class="input-container glass-input">
                        <label for="user-input" class="sr-only">Digite sua pergunta</label>
                        <textarea 
                            id="user-input" 
                            name="pergunta"
                            data-testid="input-pergunta"
                            placeholder="Pergunte sobre WCAG, ARIA ou testes..."
                            autocomplete="off"
                            rows="1"
                            aria-label="Campo de texto para sua pergunta"
                        ></textarea>
                        <button 
                            type="submit" 
                            id="send-button"
                            class="send-button"
                            data-testid="btn-enviar"
                            aria-label="Enviar mensagem"
                        >
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                <line x1="22" y1="2" x2="11" y2="13"></line>
                                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                            </svg>
                        </button>
                    </div>
                </form>
            </footer>
        </div>

        <!-- Toast Container -->
        <div id="toast-container" class="toast-container" role="region" aria-live="assertive" aria-label="NotificaÃ§Ãµes"></div>
    </div>

    <script src="/static/app.js"></script>
    <script>
        // Helper global para os botÃµes de sugestÃ£o
        function fillInput(text) {
            const input = document.getElementById('user-input');
            if(input) {
                input.value = text;
                input.focus();
            }
        }
    </script>
</body>
</html>